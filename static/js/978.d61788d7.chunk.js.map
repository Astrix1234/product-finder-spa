{"version":3,"file":"static/js/978.d61788d7.chunk.js","mappings":"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","sources":["Zustand/api.ts","webpack://product-finder-spa/./src/components/Table/Table.module.scss?f22e","components/Table/Table.tsx","pages/ProductsTablePage/ProductsTablePage.tsx"],"sourcesContent":["import axios from 'axios';\n\nconst apiUrl = 'https://reqres.in/api/products';\n\nif (!apiUrl) {\n  throw new Error(\n    'REACT_APP_BASE_URL is not defined in environment variables.'\n  );\n}\n\nexport const getProducts = async (page: number, perPage: number) => {\n  try {\n    const response = await axios.get(apiUrl, {\n      params: { page: page, per_page: perPage },\n    });\n    return response.data.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const getProductById = async (id: number) => {\n  try {\n    const response = await axios.get(apiUrl, { params: { id: id } });\n    const product = response.data.data;\n    return Array.isArray(product) ? product : [product];\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"Table_table__YUzYe\",\"backdrop\":\"Table_backdrop__VKMME\",\"backdropHidden\":\"Table_backdropHidden__W3HXt\",\"modal\":\"Table_modal__znsan\",\"button\":\"Table_button__fEgjN\"};","import { useState, useEffect, useCallback } from 'react';\nimport scss from './Table.module.scss';\nimport { Product } from '../../Zustand/store';\n\ninterface TableProps {\n  pageProducts: Product[];\n}\n\nexport const Table = ({ pageProducts }: TableProps) => {\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const backdropClasses = `${scss.backdrop} ${\n    !isOpen ? scss.backdropHidden : ''\n  }`;\n\n  const handleToggleModal = useCallback(() => {\n    setIsOpen(prevIsOpen => !prevIsOpen);\n  }, [setIsOpen]);\n\n  const handleRowClick = useCallback(\n    (product: Product) => {\n      setSelectedProduct(product);\n      setTimeout(() => {\n        handleToggleModal();\n      }, 100);\n    },\n    [setSelectedProduct, handleToggleModal]\n  );\n\n  const handleCloseModal = useCallback(() => {\n    handleToggleModal();\n    setTimeout(() => {\n      setSelectedProduct(null);\n    }, 300);\n  }, [setSelectedProduct, handleToggleModal]);\n\n  const handleBackdropClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (event.currentTarget === event.target) {\n      handleCloseModal();\n    }\n  };\n\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (isOpen && event.key === 'Escape') {\n        handleCloseModal();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n    };\n  }, [handleCloseModal, isOpen]);\n\n  return (\n    <>\n      <table className={scss.table}>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>NAME</th>\n            <th>YEAR</th>\n          </tr>\n        </thead>\n        <tbody>\n          {pageProducts.map(product => (\n            <tr\n              key={product.id}\n              style={{ backgroundColor: product.color }}\n              onClick={() => handleRowClick(product)}\n            >\n              <td>{product.id}</td>\n              <td>{product.name}</td>\n              <td>{product.year}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {selectedProduct && (\n        <div className={backdropClasses} onClick={handleBackdropClick}>\n          <div\n            className={scss.modal}\n            style={{ backgroundColor: selectedProduct.color }}\n          >\n            <button\n              type=\"button\"\n              className={scss.button}\n              onClick={handleCloseModal}\n            >\n              x\n            </button>\n            <h2>Product Details</h2>\n            <p>ID: {selectedProduct.id}</p>\n            <p>Name: {selectedProduct.name}</p>\n            <p>Year: {selectedProduct.year}</p>\n            <p>Color: {selectedProduct.color}</p>\n            <p>Pantone value: {selectedProduct.pantone_value}</p>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import { useEffect } from 'react';\nimport { useParams, Navigate } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport store from '../../Zustand/store';\nimport { getProducts } from '../../Zustand/api';\nimport { toast } from 'react-toastify';\nimport { Table } from '../../components/Table/Table';\n\nexport default function ProductsTablePage() {\n  const { no } = useParams();\n  const { pageProducts, setPageProducts, setLoading } = store();\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        if (no) {\n          const pageNumber = parseInt(no, 10);\n          const totalPages = 3;\n\n          if (pageNumber <= totalPages && pageNumber > 0) {\n            const data = await getProducts(pageNumber, 5);\n            setPageProducts(data);\n          } else {\n            toast.error('Bed request, page not found');\n            return <Navigate to={'/page/1'} />;\n          }\n        }\n      } catch (error) {\n        console.error(error);\n        if (error instanceof Error && error.message) {\n          toast.error(error.message);\n        } else {\n          toast.error('An error occurred');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, [setPageProducts, setLoading, no]);\n\n  const totalPages = 3;\n  if (no) {\n    const pageNumber = parseInt(no, 10);\n    if (pageNumber > totalPages) {\n      return <Navigate to={'/page/1'} />;\n    }\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Product Finder - Page {no || 'No Page'}</title>\n      </Helmet>\n      <Table pageProducts={pageProducts} />\n    </>\n  );\n}\n"],"names":["apiUrl","getProducts","async","page","perPage","axios","get","params","per_page","data","error","console","getProductById","product","id","Array","isArray","Table","_ref","pageProducts","selectedProduct","setSelectedProduct","useState","isOpen","setIsOpen","backdropClasses","concat","scss","handleToggleModal","useCallback","prevIsOpen","handleRowClick","setTimeout","handleCloseModal","useEffect","handleEscapeKey","event","key","document","addEventListener","removeEventListener","_jsxs","_Fragment","children","className","_jsx","map","style","backgroundColor","color","onClick","name","year","currentTarget","target","type","pantone_value","ProductsTablePage","no","useParams","setPageProducts","setLoading","store","pageNumber","parseInt","toast","Navigate","to","Error","message","fetchProducts","Helmet"],"sourceRoot":""}